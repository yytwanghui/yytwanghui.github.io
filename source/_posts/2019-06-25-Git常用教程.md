---
title: Gitå¸¸ç”¨æ•™ç¨‹
date: 2019-06-25 20:39:11
categories:
- Git
tags:
- æµç¨‹
- commit
- å›¾æ ‡
- ssh
---

<center><font size=4 color="red">gitçš„æµç¨‹ï¼Œcommitè§„åˆ™ï¼Œå›¾æ ‡æ„ä¹‰ï¼Œè¿æ¥å¤šä¸ªsshæ–¹æ³•</font></center>

<!--more-->

# Git å¸¸ç”¨æ•™ç¨‹

`$ git config --global user.name "Firstname Lastname"`

`$ git config --global user.email "your_email@example.com"`

é…ç½®åœ¨ä¸‹é¢æ–‡ä»¶:`~/.gitconfig`

è¾“å‡ºå†…å®¹æ˜¾ç¤º:
`git config --global color.ui auto`

è®¾ç½®SSH Key

`ssh-keygen -t rsa -C "your_email@example.com"`
`cat ~/.ssh/id_rsa.pub`
æ·»åŠ åˆ°è¿œç¨‹GitæœåŠ¡ç½‘ç«™
`ssh -T git@github.com`

ç¬¬ä¸€æ¬¡:

```shell
git clone git@github.com:hirocastest/Hello-World.git

touch hello_world.php && vim hello_world.php

<?php
    echo "Hello World!";
?>

cd Hello-World

git status

git add hello_world.php

git commit -m "Add hello world script by php"

git log

git push
```

## æ ‡å‡†æµç¨‹

* å¼€å‘æˆ–ä¿®æ­£:develop->feature branches
* åˆå¹¶:feature branches->develop
* å‘å¸ƒ:release branches
* åˆå¹¶:release branches->master ç„¶åæ‰“Tagå‘å¸ƒ
* å‘ç°BUG:master->hotflixes

## å·¥å…·

[git-flow](https://github.com/nvie/gitï¬‚ow)

Macå®‰è£…:`brew install git-flow`

## ä»“åº“åˆå§‹åŒ–

Github->Gitä»“åº“->Add README.md->blog

`git clone` 

`git flow init -d`

`git branch -a`

`git push -u origin develop`

`git branch -a`

## æ¨¡æ‹Ÿ Git Flow

`git pull`

åˆ›å»ºfeatureåˆ†æ”¯add-user
`git flow feature start add-user`

`git branch`

`git push origin feature/add-user`

PRçš„è¦ç‚¹:

* æ²¡æœ‰æµ‹è¯•oræµ‹è¯•æœªé€šè¿‡
* è¿åç¼–ç è§„åˆ™
* ä»£ç å“è´¨è¿‡ä½(å‘½åä¸æ˜ç¡®,æ–¹æ³•å†—é•¿ç­‰)
* è¿˜æœ‰é‡æ„çš„ä½™åœ°
* æœ‰é‡å¤çš„éƒ¨åˆ†

åˆ‡æ¢åˆ†æ”¯,ä¿è¯developæœ€æ–°
developæ˜¯é»˜è®¤åˆ†æ”¯

`git checkout develop`

`git pull`

å‘å¸ƒ
`git checkout develop`

`git pull`

`git flow release start '1.0.0'`

`git flow release finish '1.0.0'`

`git tag`

æ›´æ–°åˆ°è¿œç¨‹ä»“åº“

`git push origin develop`

`git checkout master`

`git push origin master`

`git push --tags`

åœ¨hotfixåˆ†æ”¯å·¥ä½œ

`git fetch origin`

`git flow hotfix start '1.0.1' '1.0.0'`

`git push origin hotfix/1.0.1`

æŸ¥çœ‹Tag

`git fetch origin`

`git tag`

ç‰ˆæœ¬å·çš„åˆ†é…è§„åˆ™

x.y.zæ ¼å¼è¿›è¡Œç‰ˆæœ¬ç®¡ç†

xåœ¨é‡å¤§åŠŸèƒ½å˜æ›´æˆ–æ–°ç‰ˆæœ¬ä¸å‘ä¸‹å…¼å®¹æ—¶åŠ 1,æ­¤æ—¶yä¸zçš„æ•°å­—å½’0

yåœ¨æ·»åŠ æ–°åŠŸèƒ½æˆ–è€…åˆ é™¤å·²æœ‰åŠŸèƒ½æ—¶åŠ 1, æ­¤æ—¶zçš„æ•°å­—å½’0

zåªåœ¨è¿›è¡Œå†…éƒ¨ä¿®æ”¹ååŠ 1

å…·ä½“ä¾‹å­:
1.0.0 æœ€åˆå‘å¸ƒçš„ç‰ˆæœ¬
1.0.1 ä¿®æ­£äº†è½»å¾®BUG
1.0.2 ä¿®å¤æ¼æ´
1.1.0 æ·»åŠ æ–°åŠŸèƒ½
2.0.0 æ›´æ–°æ•´ä½“UIå¹¶æ·»åŠ æ–°åŠŸèƒ½


**Commit Message Guidelines**

https://github.com/angular/angular.js/blob/master/DEVELOPERS.md#commits

https://www.conventionalcommits.org/en/v1.0.0-beta.4/

git commit cp è§„èŒƒ

https://github.com/Dolov/git-commit-cp

http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html

https://udacity.github.io/git-styleguide/

https://juejin.im/post/5afc5242f265da0b7f44bee4

https://www.jianshu.com/p/b9d5a0711528

Commit message(æäº¤è¯´æ˜)

-m å‚æ•° æŒ‡å®šcommit message çš„

å¤šè¡Œ git commit

æ¸…æ™°æ˜äº† è¯´æ˜ç›®çš„

æ ¼å¼:

ä¸‰ä¸ªéƒ¨åˆ†:Header,Bodyå’ŒFooter

`<type>(<scope>): <subject>`
// ç©ºä¸€è¡Œ
`<body>`
// ç©ºä¸€è¡Œ
`<footer>`

Header æ˜¯å¿…é¡»
Bodyå’ŒFooter å¯ç”¨çœç•¥

ä»»ä½•ä¸€è¡Œéƒ½ä¸èƒ½è¶…è¿‡72ä¸ªå­—ç¬¦(æˆ–100ä¸ªå­—ç¬¦) é¿å…æ¢è¡Œ

Header: type(å¿…éœ€)ã€scope(å¯é€‰)ã€subject(å¿…éœ€)

type: è¯´æ˜commitçš„ç±»åˆ«,åªå…è®¸ä½¿ç”¨ä¸‹é¢7ä¸ªæ ‡ç¤º

featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰
fixï¼šä¿®è¡¥bug
docsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰
styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰
refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰
testï¼šå¢åŠ æµ‹è¯•
choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

å¦‚æœtypeä¸ºfeatå’Œfixï¼Œåˆ™è¯¥ commit å°†è‚¯å®šå‡ºç°åœ¨ Change log ä¹‹ä¸­ã€‚å…¶ä»–æƒ…å†µï¼ˆdocsã€choreã€styleã€refactorã€testï¼‰ç”±ä½ å†³å®šï¼Œè¦ä¸è¦æ”¾å…¥ Change logï¼Œå»ºè®®æ˜¯ä¸è¦

scope

scope ç”¨äºè¯´æ˜commitå½±å“çš„èŒƒå›´, æ¯”å¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰,è§†é¡¹ç›®ä¸åŒè€Œä¸åŒ

subject

subjectæ˜¯commitç›®çš„çš„ç®€çŸ­æè¿°, ä¸è¶…è¿‡50ä¸ªå­—ç¬¦

ä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚changeï¼Œè€Œä¸æ˜¯changedæˆ–changes
ç¬¬ä¸€ä¸ªå­—æ¯å°å†™
ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰

Body

Bodyéƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡commitçš„è¯¦ç»†æè¿°, å¯ä»¥åˆ†æˆå¤šè¡Œ.

ç¤ºä¾‹:

More detailed explanatory text, if necessary.  Wrap it to 
about 72 characters or so. 

Further paragraphs come after blank lines.

- Bullet points are okay, too
- Use a hanging indent

**æ³¨æ„ç‚¹:**

ä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚ä½¿ç”¨changeè€Œä¸æ˜¯changedæˆ–changesã€‚

åº”è¯¥è¯´æ˜ä»£ç å˜åŠ¨çš„åŠ¨æœºï¼Œä»¥åŠä¸ä»¥å‰è¡Œä¸ºçš„å¯¹æ¯”ã€‚

Footer

Footer éƒ¨åˆ†åªç”¨äºä¸¤ç§æƒ…å†µ

* ä¸å…¼å®¹å˜åŠ¨

å¦‚æœå½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸å…¼å®¹ï¼Œåˆ™ Footer éƒ¨åˆ†ä»¥BREAKING CHANGEå¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°ã€ä»¥åŠå˜åŠ¨ç†ç”±å’Œè¿ç§»æ–¹æ³•ã€‚

BREAKING CHANGE: isolate scope bindings definition has changed.

To migrate the code follow the example below:

Before:

```shell
scope: {
    myAttr: 'attribute',
}
```

After:

```shell
scope: {
    myAttr: '@',
}
```

The removed `inject` wasn't generaly useful for directives so there should be no code using it.



* å…³é—­Issue

å¦‚æœå½“å‰ commit é’ˆå¯¹æŸä¸ªissueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å…³é—­è¿™ä¸ª issue.

Closes #234

ä¹Ÿå¯ä»¥ä¸€æ¬¡å…³é—­å¤šä¸ª issue

Closes #123, #245, #992

Revert

è¿˜æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå½“å‰ commit ç”¨äºæ’¤é”€ä»¥å‰çš„ commitï¼Œåˆ™å¿…é¡»ä»¥revert:å¼€å¤´ï¼Œåé¢è·Ÿç€è¢«æ’¤é”€ Commit çš„ Headerã€‚

revert: feat(pencil): add 'graphiteWidth' option

This reverts commit 667ecc1654a317a13331b17617d973392f415f02.

Bodyéƒ¨åˆ†çš„æ ¼å¼æ˜¯å›ºå®šçš„ï¼Œå¿…é¡»å†™æˆThis reverts commit &lt;hash>.ï¼Œå…¶ä¸­çš„hashæ˜¯è¢«æ’¤é”€ commit çš„ SHA æ ‡è¯†ç¬¦ã€‚

å¦‚æœå½“å‰ commit ä¸è¢«æ’¤é”€çš„ commitï¼Œåœ¨åŒä¸€ä¸ªå‘å¸ƒï¼ˆreleaseï¼‰é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½ä¸ä¼šå‡ºç°åœ¨ Change log é‡Œé¢ã€‚å¦‚æœä¸¤è€…åœ¨ä¸åŒçš„å‘å¸ƒï¼Œé‚£ä¹ˆå½“å‰ commitï¼Œä¼šå‡ºç°åœ¨ Change log çš„Revertså°æ ‡é¢˜ä¸‹é¢ã€‚

ç¼–å†™å·¥å…·

Commitizen:https://github.com/commitizen/cz-cli

http://commitizen.github.io/cz-cli/

`npm install -g commitizen`

commitizen init cz-conventional-changelog --save --save-exact

`git add .`

`git cz`

æ£€æŸ¥Commit message æ˜¯å¦ç¬¦åˆæ ¼å¼

validate-commit-msg:https://github.com/kentcdodds/validate-commit-msg

https://github.com/kentcdodds/validate-commit-msg/blob/master/index.js

é‡å‘½åä¸ºä¸‹é¢åå­—
validate-commit-msg.js

åŠ å…¥Gitçš„hook

package.json->ghooks:http://npm.im/ghooks

```shell
"config": {
    "ghooks": {
      "commit-msg": "./validate-commit-msg.js"
    }
}
```

example

`$ git add -A `
`$ git commit -m "edit markdown" `
INVALID COMMIT MSG: does not match "<type>(<scope>): <subject>" ! was: edit markdown


Commit Message -> Change log

ä¸‰éƒ¨åˆ†ç»„æˆ:

New features
Bug fixes
Breaking changes.

å·¥å…·:

conventional-changelog 

```shell
$ npm install -g conventional-changelog
$ cd my-project
$ conventional-changelog -p angular -i CHANGELOG.md -w
```

CHANGELOG.md

ç”Ÿæˆæ‰€æœ‰å‘å¸ƒçš„ Change log

`$ conventional-changelog -p angular -i CHANGELOG.md -w -r 0`

package.json

```shell
{
  "scripts": {
    "changelog": "conventional-changelog -p angular -i CHANGELOG.md -w -r 0"
  }
}
```

`$ npm run changelog`


å·¥å…·é“¾:

 commitizen/cz-cli 
 commitizen/cz-conventional-changelog
 conventional-changelog/standard-version 
 
 æŒç»­é›†æˆ:
 
 marionebl/commitlint
 
 
 Git çš„è¡¨æƒ…ä½¿ç”¨
 
 https://mkblog.cn/872/
 
 https://gitmoji.carloscuesta.me/
 
 
ğŸ¨ - æ”¹è¿›ç»“æ„å’Œä»£ç æ ¼å¼
âš¡ï¸ - ä¼˜åŒ–æ€§èƒ½
ğŸ”¥ - ç§»é™¤ä»£ç æˆ–æ–‡ä»¶
ğŸ› - ä¿®å¤ bug
âœ¨ - å¼•å…¥æ–°åŠŸèƒ½
ğŸ - ä¿®å¤ MacOS ä¸‹çš„é—®é¢˜
ğŸ“ - å†™æ–‡æ¡£
ğŸš€ - éƒ¨ç½²æ–°åŠŸèƒ½

âœ… - æ·»åŠ æµ‹è¯•ç”¨ä¾‹
ğŸ”– - å‘ç‰ˆ/ç‰ˆæœ¬æ ‡ç­¾
ğŸ”’ - ä¿®å¤å®‰å…¨é—®é¢˜
ğŸ§ - ä¿®å¤ Linux ä¸‹çš„é—®é¢˜
ğŸš¨ - ç§»é™¤ linter çš„è­¦å‘Š
ğŸš§ - å·¥ä½œåœ¨è¿›è¡Œä¸­
ğŸ’š - ä¿®å¤ CI æ„å»ºé—®é¢˜
â¬‡ï¸ - é™çº§ä¾èµ–åº“

ğŸ - ä¿®å¤ Windows ä¸‹çš„é—®é¢˜
â¬†ï¸ - å‡çº§ä¾èµ–åº“
ğŸ‘· - æ·»åŠ  CI æ„å»ºç³»ç»Ÿ
ğŸ”§ - æ”¹å˜é…ç½®æ–‡ä»¶
ğŸ”¨ - å¤§é‡æ„
ğŸ‰ - åˆæ¬¡æäº¤
ğŸ’„ - å‡çº§ UI å’Œæ ·å¼æ–‡ä»¶

Git README ç¼–å†™

https://github.com/kefranabg/readme-md-generator

å¢åŠ  .gitignore

https://github.com/github/gitignore.git

å¢åŠ  license

https://blog.csdn.net/testcs_dn/article/details/38496107

Git é…ç½® å¤šä¸ª SSH Key

`ssh-keygen -t rsa -C 'xxxxx@company.com' -f ~/.ssh/gitee_id_rsa`

`ssh-keygen -t rsa -C 'xxxxx@qq.com' -f ~/.ssh/github_id_rsa`

`ssh-keygen -t rsa -C 'xxxxx@qq.com' -f ~/.ssh/gitlab_id_rsa`

`ssh-keygen -t rsa -C 'xxxxx@qq.com' -f ~/.ssh/gitlab_own_id_rsa`

`ssh-keygen -t rsa -C 'xxxxx@qq.com' -f ~/.ssh/bitbucket_id_rsa`

`touch ~/.ssh/config`

```shell
# gitee
Host gitee.com
HostName gitee.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/gitee_id_rsa
# github
Host github.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/github_id_rsa
# gitlab
Host gitlab.com
HostName gitlab.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/gitlab_id_rsa
# gitlab own
Host gitlab.crm.com
HostName gitlab.crm.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/gitlab_own_id_rsa
# bitbucket
Host bitbucket.org
HostName bitbucket.org
PreferredAuthentications publickey
IdentityFile ~/.ssh/bitbucket_id_rsa
```

`$ ssh -T git@gitee.com`
`$ ssh -T git@github.com`
`$ ssh -T git@gitlab.com`
`$ ssh -T git@gitlab.crm.com`
`$ ssh -T git@bitbucket.org`

1ä¸ªé¡¹ç›®pushå¤šä¸ªè¿œç¨‹ä»“åº“

`git remote add github https://github.com/yhyangjiabin/test.git`
`git remote add gitee https://gitee.com/yhyangjiabin/test.git`
`git remote add gitlab https://gitlab.com/yhyangjiabin/test.git`
`git remote add gitlab_own https://gitlab.crm.com/yhyangjiabin/test.git`
`git remote add bitbucket https://bitbucket.org/yhyangjiabin/test.git`

`git push -u github master`
`git push -u gitee master`
`git push -u gitlab master`
`git push -u github_own master`
`git push -u bitbucket master`

`git remote`

`git remote -v`

ç§»é™¤
`git remote rm gitee`

é¡¹ç›®å‘½å Repository name

https://sinkcup.github.io/programming-project-name-best-practice

https://en.wikipedia.org/wiki/Clean_URL

* å‡¡æ˜¯ä¼šå‡ºç°åœ¨é“¾æ¥ä¸­çš„åå­—ï¼ˆç”¨æˆ·åã€ç»„ç»‡åã€é¡¹ç›®åã€branchåã€tagåï¼‰ï¼Œéƒ½ä¸€å®šä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿ï¼Œè€Œä½¿ç”¨ä¸­æ¨ªçº¿ã€‚åŸå› ï¼šä¸‹åˆ’çº¿ä¼šä¸æµè§ˆå™¨é»˜è®¤æ ·å¼é‡åˆï¼Œå¯¼è‡´çœ‹èµ·æ¥åƒç©ºæ ¼ã€‚
* ä¼˜å…ˆå…¨å°å†™ï¼Œè€Œä¸è¦ä½¿ç”¨é©¼å³°ã€‚åŸå› ï¼šä¾¿äºç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ã€‚
* é¡¹ç›®èµ·åå’ŒåŸŸåæ— å…³ã€‚åŸå› ï¼šä¹°åˆ°æ›´å¥½çš„åŸŸåæ—¶ï¼ŒåŸŸåå°±æ¢äº†ã€‚
* è¯­ä¹‰åŒ–åç¼€ï¼Œçœ‹åå­—å°±çŸ¥é“æ˜¯ä»€ä¹ˆé¡¹ç›®ã€‚

ä¸¾ä¾‹:

ç”µå­ä¹¦é¡¹ç›®

äº§å“çº¿ ebook
æ¥å£ ebook-api
JSçš„ç½‘ç«™ ebook-web-app
å¾®ä¿¡å°ç¨‹åº ebook-wechat-mini-program
å®‰å“APP ebook-android-app
è‹¹æœAPP ebook-ios-app
ç®¡ç†å‘˜åå°ç½‘ç«™ï¼ˆå‡å¦‚æ˜¯PHP/Pythonç­‰å‰åç«¯æ··åˆçš„ï¼‰ ebook-admin-web
ç®¡ç†å‘˜åå°JSç½‘ç«™ï¼ˆå‡å¦‚æ˜¯JSå‰åç«¯åˆ†ç¦»çš„ï¼‰ ebook-admin-web-app
ç®¡ç†å‘˜åå°æ¥å£ï¼ˆå‡å¦‚æ˜¯JSå‰åç«¯åˆ†ç¦»çš„ï¼‰ ebook-admin-api

GUI å®¢æˆ·ç«¯

GitHub Desktop:https://desktop.github.com/
SourceTree:https://www.sourcetreeapp.com/
