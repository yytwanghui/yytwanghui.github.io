---
title: 软件工程-06_需求建模：场景、信息、与类分析
date: 2019-05-16 10:09:22
categories: 
- 软件工程
tags: 
- 需求建模
- 场景
- 信息
- 类
---

<center><font size=4 color="red">本文是一篇关于需求建模的文章</font></center>

<!--more-->

# 需求建模：场景、信息、与类分析

## 需求分析

需求建模：

* 1.场景建模

* 2.数据建模

* 3.面向类的模型

* 4.面向流程的模型

* 5.行为模型

#### 总体目标和原理

需求建模必须实现3个主要目标：

* 1.描述客户需要什么

* 2.为软件设计奠定基础

* 3.定义在软件完成后可以被确认的一组需求

#### 分析的经验原则

模型的经验原则

* 1.模型应关注在问题域或业务域内可见的需求，不要陷入细节

* 2.每个元素都应该增加对软件需求的整体理解，以及对信息域、功能和系统行为的深入理解

* 3.基础结构和其它非功能的模型应推延到设计阶段再考虑

* 4.最小化整个系统内的关联

* 5.确认需求模型为整个利益相关者都带来价值

* 6.尽可能保持模型简洁

#### 域分析

域分析师：发现和定义可复用的分析模式，分析类和相关的信息

![](https://i.loli.net/2019/05/15/5cdbd6454448646866.jpg)

#### 建立模型的方法

结构化分析

* 将数据对象抽取为一个Model，由该Model来对数据结果进行分析

面向对象的分析

* 定义类和影响客户需求的类之间的协作关系

目的：

* 不管采用什么分析方法，我们最终都是为了为利益相关者提供最好的软件需求模型和过渡到软件设计的最有效方法。

需求模型的元素：

![](https://i.loli.net/2019/05/15/5cdbe5172a8f195961.jpg)

## 基于场景的建模

#### 新建初始用例

开发用例问题：

* 1.编写什么？

* 2.写多少？

* 3.编写说明应该多详细？

* 4.如何组织说明？

```md
编写：
1.起始和导出
2.定义问题范围
3.说明整体的运行目标
4.建立优先级顺序
5.概述所有已知的功能需求
6.描述系统将处理的信息
```

对用例的分析可以采用两种形式，一种是模拟利益相关者来陈述用例故事，另外一种是以列表的形式逐条列出执行的步骤。


#### 细化初始用例

细化问题：

* 1.在这一状态点上，参与者能进行一些其它的动作吗？

* 2.在这一状态点上，参与者有没有可能遇到一些错误的条件？如果有可能，这些错误会是什么？

* 3.在这一状态点上，参与者有没有可能遇到一些其他的行为？是什么？

还应该考虑的问题：

* 1.应答失败，如用户是等待一个应答，但应答超时了

* 2.性能差，如页面渲染速度贼慢

如何解决：

* 看下一小节，编写正规的用例

#### 编写正规的用例

**干货：规范的用例模版**

```md
用例：购买零食
迭代：2，最新更新记录：hui XXXX年YY月RR日
主演参与者：顾客
情景目标：任何时候，任何地点用户通过互联网购买零食
前提条件：客户已经申请了一个会员号，并且用户已经使用正确的会员号登陆
起动：客户在想买零食的时候，打开电脑买零食
场景：
1.客户登陆零食网站
2.客户输入他的会员号  
3.客户输入他的密码     
4.系统显示网站的零食首页信息
5.客户选择零食加入购物车或者直接购买 
6.客户选择完后开始点击“购买”
7.系统显示出客户所购买零食的清单以及零食总价
8.客户选择付款方式，然后点击“支付”
9.系统提示付款成功     
异常：
1.会员号或者密码不正确——————参看用例：“确认用户名和密码”
2.客户忘记了密码——————参看用例：“找回密码”
3.还没有购物车——————参看用例：“购物车”
4.支付失败——————参考用例：“支付”
优先级：属于基础功能，高优先级
何时可用：第X个增量，因为增量没有完全的设计，所以这里用X代替
使用频率：高等频率
使用方式：通过基于个人计算机的浏览器和互联网连接到零食网站
次要参与者：系统管理员，客服
次要参与者使用方式：
1.系统管理员：基于个人计算机的系统
2.客服：客服页面系统
未解决的问题：
1.有其他的登陆方式吗？如手机扫码登陆，手机短信登陆
2.当购买人数出现高峰期时，怎样才能保证系统不崩溃？
3.网络崩溃时，用户刷新后继续显示当前页面吗？
```

下一节结束用例的UML图，为了应对较复杂的用例情况

## 补充用例的UML模型

购买零食功能活动图

![](https://i.loli.net/2019/05/15/5cdbfc49be07082712.jpg)

泳道图

* 参考一下blog学习：https://blog.csdn.net/fly_zxy/article/details/80939806

## 数据建模概念

#### 数据对象

数据对象由复合信息表示。

* 复合信息：具有若干不同的特征或属性的事物

* 数据对象只封装数据

#### 数据属性

数据属性定义了数据对象的性质，有三个不同的特征

* 1.为数据对象实例命名

* 2.描述这个实例

* 3.建立对另一个表中的另一个实例的引用

区别于数据属性：

* 数据对象与数据属性的区别？car是一个数据对象，里面封装的颜色，大小，价格等是数据属性

#### 关系

有些数据对象之间是有关系的，E-R关系

```md
一些常用的数据建模工具：
AllFusion ERWin : https://erwin.com/?gclid=EAIaIQobChMI2-fG9ted4gIVmCCtBh0GoQBMEAAYASAAEgK8ePD_BwE
ER/Studio : https://www.embarcadero.com/er-studio-editions
Oracle Designer : https://www.oracle.com/technetwork/developer-tools/designer/overview/index-082236.html
Visible Analyst : http://www.visiblesystemscorp.com/Products/Analyst/index.htm
```

## 基于类的建模

#### 识别分析类

分析过程，寻找名词和动词，分析类表现为以下方式之一：

* 1.外部实体，产生或使用基于计算机系统的信息

* 2.事物，问题信息域的一部分

* 3.偶尔事件或事件，在系统操作环境内发生

* 4.角色，由和系统交互的人员扮演

* 5.组织单元，和某个应用系统相关

* 6.场地，建立问题的环境和系统的整体功能

* 7.结构，定义了对象的类或与对象相关的类

最初找出的有用的名词或者动词只能称为潜在类，还需要考虑这些潜在类是否有以下特性

* 1.保留信息：只有记录潜在类的信息，系统才能正常工作，这类潜在类是有用的

* 2.所需服务：潜在类必须具有一组可确认的操作，这组操作能用某种方式改变类的属性值

* 3.多个属性：需求分析过程中，焦点应在于“主”信息，事实上，只有一个属性的类可能在设计中有用，但在分析活动阶段，最好把它作为另一个类的某个属性.意思是如果是单一属性，就没必须为这个属性创建类，而是考虑其是不是其他类的属性。

* 4.公共属性：可以为潜在类定义一组属性，这些属性适用于类的所有实例

* 5.公共操作：可以为潜在类定义一组操作，这些操作使用与类的所有实例

* 6.必要需求：在问题空间中出现的外部实体，和任何系统解决方案运行时所必须的生产或消费信息，几乎都被定义为需求模型中的类

#### 描述属性

属性描述了已经包含在需求模型中的类。实质上，属性是定义类以澄清类在问题空间的环境下意味着什么

可以采用一些组合项来描述数据：

* 用户登陆=登陆账号+登陆密码

#### 定义操作

操作定义了某个对象的行为，粗略的划分为4种：

* 1. 以某种方式操作数据(例如：添加，删除，重新格式化，选择)

* 2.执行计算的操作

* 3.请求某个对象的状态的操作

* 4.监视某个对象发生某个控制事件的操作

#### 类-职责-协作者建模

Class-Responsibility-Collaborator,CRC卡

![](https://i.loli.net/2019/05/16/5cdcc06adb2ef45071.jpg)

类：

* 1.实体类

* 2.边界类

* 3.控制类

职责：

* 1.智能系统应分布在所有类中以求最佳地满足问题的需求

* 2.每个职责的说明应尽可能具有普遍性

* 3.信息和与之相关的行为应放在同一个类中

* 4.某个事物的信息应局限于一个类中而不要分布在多个类中

* 5.适合时，职责应由相关类分享

协作：

* 是客户和服务器之间契约的具体实现，识别协作的方法是通过确认类本身是否实现自身的每个职责，如果不能，就需要和其他类协作

CRC的使用：

* CRC的使用很简单，就是先有一种主CRC卡，然后到达相应的职责时会有对应的协作者，然后再由这个协作者的类进行分析，依次类推。

#### 关联和依赖

这个关联说的有些想数据库中的E-R关系图，就一对一，一对多，多对多的关系

依赖，依赖是一个类获得另外一个类的请求后才能执行其对应的功能

#### 分析包

类似于java中的“package”
